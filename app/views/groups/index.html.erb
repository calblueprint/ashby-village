<h1>All groups</h1>

<script type="text/javascript">
  $(document).ready(function(){
    var selectKind = $('.selectKind').val();
    var selectNeighborhood = $('.selectNeighborhoods').val();

    function groupList(selKind, selNeighborhood) {
      $('tr').show();
      if (selKind != 'all' && selNeighborhood != 'all') {
        $('tr').not('.' + selNeighborhood).hide();
        $('tr').not('.' + selKind).hide();
      } else if (selectKind == 'all' && selNeighborhood != 'all') {
        $('tr').not('.' + selNeighborhood).hide();
      } else if (selNeighborhood == 'all' && selKind != 'all') {
        $('tr').not('.' + selectKind).hide();
      }
    }

    $('.selectKind').change(function(){
      selectKind = $(this).val();
      groupList(selectKind, selectNeighborhood);
    });

    $('.selectNeighborhoods').change(function(){
      selectNeighborhood = $(this).val();
      groupList(selectKind, selectNeighborhood);
    });
  });
</script>



<select class="selectKind">
  <option selected="selected" value="all"> All </option>
    <option value="social"> Social </option>
    <option value="neighborhood"> Neighborhood </option>
    <option value="committee"> Committee </option>
</select>

<select class="selectNeighborhoods">
  <option selected="selected" value="all"> All </option>
  <%= @neighborhoods.each do |neighborhood| %>
    <option value=<%= neighborhood.id %>><%= neighborhood.name %></option>
  <% end %>
</select>

<table>
  <thead>
    <tr>
      <th colspan="5"></th>
    </tr>
  </thead>

  <tbody>
    <% @groups.each do |group| %>
      <tr class="<%= group.neighborhood.id %> <%= group.kind %>">
        <td><%= group.id %></td>
        <td><%= group.neighborhood.name %></td>
        <td><%= group.name %></td>
        <td><%= group.description %></td>
        <td><%= group.kind %></td>
        <td><button>  <%=link_to 'Learn more', group %> </button><td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to "Create new group", new_group_path %>